{"version":3,"sources":["landing-page/LandingPage.js","queues/Queue.js","queues/QueueList.js","sockets/WebSocket.js","App.js","queues/QueueAsk.js","queues/QueueTA.js","queues/QueueTAList.js","signup-in/Signup.js","signup-in/Login.js","stats/Summary.js","serviceWorker.js","index.js"],"names":["LandingPage","document","title","fetch","method","then","response","json","body","style","setProperty","react_default","a","createElement","className","href","React","Component","Queue","class","this","props","queue","name","average_wait_time","question_contents","map","question","index","first_name","last_name","QueueList","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","logout","bind","assertThisInitialized","localStorage","removeItem","history","push","screenWidth","window","innerWidth","numQueues","queues","length","queueTableStyle","width","toString","onClick","queues_Queue","withRouter","WebSocketService","callbacks","socketRef","instance","domain","location","host","path","protocol","WebSocket","onopen","onmessage","e","JSON","parse","data","onerror","onclose","connect","updateCallBack","readyState","callback","socket","recursion","waitForSocketConnection","setTimeout","WebSocketInstance","getInstance","App","fetchData","state","isLoggedIn","addCallbacks","update","component","_this2","headers","Authorization","getItem","detail","localeCompare","setState","message","forceUpdate","queues_QueueList","id","landing_page_LandingPage","QueueAsk","description","onChange","handleSubmit","event","preventDefault","FormData","target","post_url","match","params","ok","getElementById","innerHTML","remaining_chars","value","defineProperty","onSubmit","htmlFor","maxlength","answerQuestion","extendQueue","closeQueue","csrftoken","cookieValue","cookie","cookies","split","i","$","trim","substring","decodeURIComponent","queueName","stringify","X-CSRFToken","questionId","question_id","closed_message","answerQuestionFunc","extendQueueFunc","closeQueueFunc","classNames","require","btnGroupClassOpen","answer-link","is_open_extended","answer-link-selected","btnGroupClassClose","is_closed","is_in_time","question_content","QueueTaList","isTA","QueueTA","SignUpForm","validationErrors","violationExists","violationList","email","get","password","indexOf","concat","handleValidation","swal","type","validationError","LoginForm","error","alert","setItem","token","Summary","questions","answered_by_email","Boolean","hostname","ReactDOM","render","BrowserRouter","Switch","Route","exact","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c32ce3a3.chunk.js","sourcesContent":["import React from \"react\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/css/style.css\"\n\nclass LandingPage extends React.Component {\n\n  componentDidMount() {\n    document.title = \"Online OH Queue\";\n\n    fetch('/api/v1/theme/', {\n      method: 'GET',\n    }).then((response) => {\n      return response.json();\n    }).then((body) => {\n      document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n    });\n  }\n\n  render() {\n    return (\n    <header className=\"masthead d-flex\">\n        <div className=\"container text-center my-auto\">\n          <h1 className=\"mb-1 title-text\">Office Hours Queue</h1>\n          <a className=\"btn btn-primary btn-margin btn-xl\" href=\"/signup\">\n            Sign up\n          </a>\n          <a className=\"btn btn-primary btn-margin btn-xl\" href=\"/login\">\n            Log in\n          </a>\n        </div>\n        <div className=\"overlay\" />\n      </header>\n    );\n  }\n}\n\nexport default LandingPage;","import React from \"react\";\nimport \"../static/css/style.css\"\n\nclass Queue extends React.Component {\n\n    componentDidMount() {\n      document.title = \"Online OH Queue\";\n      fetch('/api/v1/theme/', {\n        method: 'GET',\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n      });\n    }\n  \n    render() {\n      return (\n        <div>\n          <center><h2 class=\"queue-title\">{this.props.queue.name}</h2>\n          <p class=\"wait-time\">Average Wait Time: <br />\n           {this.props.queue.average_wait_time} Minutes</p>\n          <a href={ '/' + this.props.queue.name + \"/ask\" } class=\"ask-link\">Ask Question</a>\n          <table class=\"queue\">\n          <tr>\n            <th>Name</th>\n          </tr>\n\n          {this.props.queue.question_contents.map(function(question, index){\n                return <tr><td>{index+1} - {question.first_name} {question.last_name}</td></tr>\n            })}\n          </table></center>\n        </div>\n      );\n    }\n  }\n\n  export default Queue;","import React from \"react\";\nimport Queue from \"./Queue\";\nimport \"../static/css/style.css\"\nimport { Route , withRouter}  from 'react-router-dom';\n\n\n\nclass QueueList extends React.Component {\n\n  constructor(props) {\n    super(props); \n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    document.title = \"Online OH Queue\";\n    fetch('/api/v1/theme/', {\n      method: 'GET',\n    }).then((response) => {\n      return response.json();\n    }).then((body) => {\n      document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n    });\n  }\n\n  logout() {\n    localStorage.removeItem('credentials');\n    this.props.history.push('/login');\n   }\n  \n    render() {\n\n      let screenWidth = window.innerWidth;\n\n      var numQueues = this.props.queues.length;\n      if (numQueues == 0 || screenWidth < 800) {\n        numQueues = 1;\n      }\n      var widthOfEachQueue = 100.0 / numQueues;\n      var widthStr = widthOfEachQueue.toString() + \"vw\";\n      var queueTableStyle = {\n        width: widthStr\n      };\n      \n      if (screenWidth < 800) {\n        return (\n          <div>\n            <div class=\"top-right\">\n              <button className=\"btn btn-primary\" onClick={this.logout}>Log out</button>\n            </div>\n            <div class=\"verticalList\">\n              {this.props.queues.map(function(queue, index){\n                  return <div style={queueTableStyle} class=\"queue-table\" ><Queue queue={queue}/></div>;\n              })}\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <div class=\"top-right\">\n              <button className=\"btn btn-primary btn-xl\" onClick={this.logout}>Log out</button>\n            </div>\n            <div class=\"horizontalList\">\n              {this.props.queues.map(function(queue, index){\n                  return <div style={queueTableStyle} class=\"queue-table\" ><Queue queue={queue}/></div>;\n              })}\n            </div>\n          </div>\n        );\n      }\n    }\n  }\n\n  export default withRouter(QueueList);","class WebSocketService {\n  static instance = null;\n  callbacks = {};\n\n  static getInstance() {\n    if (!WebSocketService.instance) {\n      WebSocketService.instance = new WebSocketService();\n    }\n    return WebSocketService.instance;\n  }\n\n  constructor() {\n    this.socketRef = null;\n  }\n\n  connect() {\n    const domain = document.location.host;\n    var path = \"wss://\" + domain + \"/ws/ohqueue\";\n    if (window.location.protocol !== \"https:\") {\n      path = \"ws://\" + domain + \"/ws/ohqueue\";\n    }\n    this.socketRef = new WebSocket(path);\n    this.socketRef.onopen = () => {\n    };\n    this.socketRef.onmessage = e => {\n      this.callbacks['set'](JSON.parse(e.data))\n    };\n\n    this.socketRef.onerror = e => {\n    };\n    this.socketRef.onclose = () => {\n      this.connect();\n    };\n  }\n\n  addCallbacks(updateCallBack) {\n    this.callbacks['set'] = updateCallBack;\n  }\n  \n\n  state() {\n    return this.socketRef.readyState;\n  }\n\n   waitForSocketConnection(callback){\n    const socket = this.socketRef;\n    const recursion = this.waitForSocketConnection;\n    setTimeout(\n      function () {\n        if (socket.readyState === 1) {\n          if(callback != null){\n            callback();\n          }\n          return;\n\n        } else {\n          recursion(callback);\n        }\n      }, 1); \n  }\n\n}\n\nconst WebSocketInstance = WebSocketService.getInstance();\n\nexport default WebSocketInstance;\n","import React, { Component } from 'react';\nimport LandingPage from \"./landing-page/LandingPage\";\nimport QueueList from \"./queues/QueueList\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './static/css/style.css'\n\nimport WebSocketInstance from './sockets/WebSocket'\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fetchData = this.fetchData.bind(this);\n    this.state = {\n      isLoggedIn: false,\n      queues: []\n    };\n\n    WebSocketInstance.connect();\n    this.waitForSocketConnection(() => {\n      WebSocketInstance.addCallbacks(this.update.bind(this))\n    });\n  }\n\n  waitForSocketConnection(callback) {\n    const component = this;\n    setTimeout(\n      function () {\n        if (WebSocketInstance.state() === 1) {\n          callback();\n          return;\n        } else {\n          component.waitForSocketConnection(callback);\n        }\n    }, 100); \n  }\n\n  fetchData() {\n    fetch('/api/v1/queue/list/', {\n      method: 'GET',\n      headers: {\n          \"Authorization\": \"Token \" + localStorage.getItem('credentials')\n        }\n    }).then((response) => {\n      return response.json();\n    }).then((body) => {\n      if (body.detail) {\n        if (body.detail.localeCompare(\"Invalid token.\") == 0) {\n          // invalid token\n        }\n      } else {\n        this.setState({isLoggedIn: true});\n        this.setState({queues: body});\n      }\n    });\n  }\n\n  update(message) {\n    this.fetchData();\n    this.forceUpdate();\n  }\n\n  componentDidMount() {\n    document.title = \"Online OH Queue\";\n    this.fetchData();\n  }\n\n  render() {\n    if(this.state.isLoggedIn) {\n      return (\n        <div>\n          <QueueList queues={this.state.queues} />\n        </div>\n      );\n    } else {\n      return (\n        <div id=\"landing-page\">\n          <LandingPage/>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport \"../static/css/style.css\"\n\nclass QueueAsk extends React.Component {\n    constructor() {\n      super();\n\n      this.state = {\n        description: ''\n      }\n\n      this.onChange = this.onChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n      document.title = \"Online OH Queue\";\n      fetch('/api/v1/theme/', {\n        method: 'GET',\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n      });\n    }\n  \n    handleSubmit(event) {\n      event.preventDefault();\n      const data = new FormData(event.target);\n      const post_url = '/api/v1/queue/' + this.props.match.params.queue + '/ask'\n      fetch(post_url, {\n        method: 'POST',\n        body: data,\n        headers: {\n          \"Authorization\": \"Token \" + localStorage.getItem('credentials')\n        }\n      }).then((response) => {\n        if (response.ok) {\n          let path = '/';\n          this.props.history.push(path);\n        } else {\n          return response.json();\n        }\n      }).then((body) => {\n        if (typeof body === \"undefined\") {}\n        else {\n          document.getElementById(\"validationError\").innerHTML = body;\n        }\n      });\n    }\n\n    onChange(event) {\n      var current_length = event.target.value.length;\n      var remaining_chars = 280 - current_length;\n      document.getElementById(\"description_label\").innerHTML =\n       \"Question Description (\" + remaining_chars.toString() + \" Characters Remaining)\";\n      this.setState({[event.target.name]: event.target.value});\n    }\n  \n    render() {\n      return (\n        <div class=\"formBg\">\n          <div class=\"question-page\">\n            <div class=\"questionForm\">\n              <form class=\"login-form\" onSubmit={this.handleSubmit}>\n                <h2 class=\"header-login\"><center>Ask A Question</center></h2>\n                <label htmlFor=\"description\" id=\"description_label\">Question Description (280 Characters Remaining):</label>\n                <textarea maxlength=\"280\" id=\"description\" name=\"description\" \n                 value={this.state.question} onChange={this.onChange} />  \n                <button class=\"margin-top-button\">submit</button>\n                <p id=\"validationError\" class=\"validationErrorText\"></p>\n              </form>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  export default QueueAsk;","import React from \"react\";\nimport $ from 'jquery'\nimport \"../static/css/style.css\"\n\nclass Queue extends React.Component {\n\n    constructor() {\n      super();\n      this.answerQuestion = this.answerQuestion.bind(this);\n      this.extendQueue = this.extendQueue.bind(this);\n      this.closeQueue = this.closeQueue.bind(this);\n      this.state = {\n        csrftoken: \"\"\n      };\n    }\n\n    componentDidMount() {\n      document.title = \"Online OH Queue\";\n      var cookieValue = null;\n      if (document.cookie && document.cookie !== '') {\n          var cookies = document.cookie.split(';');\n          for (var i = 0; i < cookies.length; i++) {\n              var cookie = $.trim(cookies[i]);\n              if (cookie.substring(0, 'csrftoken'.length + 1) === ('csrftoken' + '=')) {\n                  cookieValue = decodeURIComponent(cookie.substring('csrftoken'.length + 1));\n                  break;\n              }\n          }\n      }\n      this.setState({csrftoken: cookieValue});\n      fetch('/api/v1/theme/', {\n        method: 'GET',\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n      });\n    }\n\n    extendQueue(queueName) {\n      var post_name = \"/api/v1/queue/open/\";\n      fetch(post_name, {\n        method: 'POST',\n        body: JSON.stringify({\n          \"queue\": this.props.queue.name\n        }),\n        headers: {\n          \"Authorization\": \"Token \" + localStorage.getItem('credentials'),\n          \"X-CSRFToken\": this.state.csrftoken\n        }\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        if (!body[\"success\"]) {\n          // handle non success\n        } \n      });\n    }\n\n    closeQueue(queueName) {\n      var post_name = \"/api/v1/queue/close/\";\n      fetch(post_name, {\n        method: 'POST',\n        body: JSON.stringify({\n          \"queue\": this.props.queue.name\n        }),\n        headers: {\n          \"Authorization\": \"Token \" + localStorage.getItem('credentials'),\n          \"X-CSRFToken\": this.state.csrftoken\n        }\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        if (!body[\"success\"]) {\n          // handle non success\n        } \n      });\n    }\n    \n  \n    answerQuestion(questionId) {\n      var post_name = \"/api/v1/questions/answer/\";\n      fetch(post_name, {\n        method: 'POST',\n        body: JSON.stringify({\n          \"queue\": this.props.queue.name,\n          \"question_id\": questionId\n        }),\n        headers: {\n          \"Authorization\": \"Token \" + localStorage.getItem('credentials'),\n          \"X-CSRFToken\": this.state.csrftoken\n        }\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        if (!body[\"success\"]) {\n          // handle non success\n        }\n      });\n    }\n\n    render() {\n      var answerQuestionFunc = this.answerQuestion;\n      var extendQueueFunc = this.extendQueue;\n      var closeQueueFunc = this.closeQueue;\n      var classNames = require('classnames');\n    \n      var btnGroupClassOpen = classNames(\n        {\n          'answer-link': !this.props.queue.is_open_extended,\n          'answer-link-selected': this.props.queue.is_open_extended,\n        }\n      );\n\n      var btnGroupClassClose = classNames(\n        {\n          'answer-link': !this.props.queue.is_closed,\n          'answer-link-selected': this.props.queue.is_closed,\n        }\n      );\n\n      var closed_message;\n      if (this.props.queue.is_closed) {\n        closed_message =  <p class=\"queue-status\">Queue Closed Manually</p>;\n      } else if (this.props.queue.is_open_extended) {\n        closed_message = <p class=\"queue-status\">Queue Open</p>;\n      } else if (!this.props.queue.is_in_time) {\n        closed_message =  <p class=\"queue-status\">Queue Closed Because Of Schedule</p>;\n      } else {\n        closed_message = <p class=\"queue-status\">Queue Open</p>;\n      }\n      \n\n      return (\n        <div>\n          <center><h2 class=\"queue-title\">{this.props.queue.name}</h2>\n          {closed_message}\n          <p class=\"wait-time\">Average Wait Time: <br />\n           {this.props.queue.average_wait_time} Minutes</p>\n           <button onClick={() => extendQueueFunc(this.props.queue.name)}\n                 className={btnGroupClassOpen}>Keep Queue Open</button>\n           <button onClick={() => closeQueueFunc(this.props.queue.name)}\n                 className={btnGroupClassClose}>Close Queue Manually</button>\n          <table class=\"queue\">\n          <tr>\n            <th>Student</th>\n          </tr>\n\n          {this.props.queue.question_contents.map(function(question, index){\n                return <tr><td>\n                {index+1} - {question.first_name} {question.last_name}\n                <br/> Question: {question.question_content}\n                <br/><center><button onClick={() => answerQuestionFunc(question.id)}\n                 class=\"answer-link\">Answer</button></center> \n                </td></tr>\n            })}\n          </table></center>\n        </div>\n      );\n    }\n  }\n\n  export default Queue;","import React, { Component } from 'react';\nimport QueueTA from \"./QueueTA\";\nimport \"../static/css/style.css\"\n\nimport WebSocketInstance from '../sockets/WebSocket'\n\n\nclass QueueTaList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fetchData = this.fetchData.bind(this);\n    this.state = {\n      isTA: false,\n      queues: []\n    };\n\n    WebSocketInstance.connect();\n    this.waitForSocketConnection(() => {\n      WebSocketInstance.addCallbacks(this.update.bind(this))\n    });\n  }\n\n  waitForSocketConnection(callback) {\n    const component = this;\n    setTimeout(\n      function () {\n        if (WebSocketInstance.state() === 1) {\n          callback();\n          return;\n        } else {\n          component.waitForSocketConnection(callback);\n        }\n    }, 100); \n  }\n\n  fetchData() {\n    // see if TA\n    fetch('/api/v1/users/is_ta', {\n      method: 'GET',\n      headers: {\n          \"Authorization\": \"Token \" + localStorage.getItem('credentials')\n        }\n    }).then((response) => {\n      return response.json();\n    }).then((body) => {\n      if (body[\"is_ta\"]) {\n          this.setState({isTA: true});\n\n          fetch('/api/v1/queue/list_ta/', {\n            method: 'GET',\n            headers: {\n                \"Authorization\": \"Token \" + localStorage.getItem('credentials')\n              }\n          }).then((response) => {\n            return response.json();\n          }).then((body) => {\n            if (body.detail) {\n            } else {\n              this.setState({queues: body});\n            }\n          });\n\n      } else {\n          this.setState({isTA: false});\n      }\n    });\n  }\n\n  update(message) {\n    this.fetchData();\n    this.forceUpdate();\n  }\n\n  componentDidMount() {\n    document.title = \"Online OH Queue\";\n    this.fetchData()\n    fetch('/api/v1/theme/', {\n      method: 'GET',\n    }).then((response) => {\n      return response.json();\n    }).then((body) => {\n      document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n    });\n  }\n\n  render() {\n    if(this.state.isTA) {\n      let screenWidth = window.innerWidth;\n\n      var numQueues = this.state.queues.length;\n      if (numQueues == 0 || screenWidth < 800) {\n        numQueues = 1;\n      }\n      var widthOfEachQueue = 100.0 / numQueues;\n      var widthStr = widthOfEachQueue.toString() + \"vw\";\n      var queueTableStyle = {\n        width: widthStr\n      };\n      \n      if (screenWidth < 800) {\n        return (\n          <div>\n            <div class=\"top-right\">\n              <button className=\"btn btn-primary\" onClick={this.logout}>Log out</button>\n            </div>\n            <div class=\"verticalList\">\n              {this.state.queues.map(function(queue, index){\n                  return <div style={queueTableStyle} class=\"queue-table\" ><QueueTA queue={queue}/></div>;\n              })}\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <div class=\"top-right\">\n              <button className=\"btn btn-primary btn-xl\" onClick={this.logout}>Log out</button>\n            </div>\n            <div class=\"horizontalList\">\n              {this.state.queues.map(function(queue, index){\n                  return <div style={queueTableStyle} class=\"queue-table\" ><QueueTA queue={queue}/></div>;\n              })}\n            </div>\n          </div>\n        );\n      }\n    } else {\n      return (\n        <p>You do not have appropriate permissions to access this page</p>\n      )\n    }\n  }\n}\n\nexport default QueueTaList;\n\n","import React from \"react\";\nimport \"../static/css/style.css\"\nimport swal from 'sweetalert';\n\n\nclass SignUpForm extends React.Component {\n  \n    constructor(props) {\n      super(props);\n      this.state = {\n        validationErrors: []\n      };\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n      document.title = \"Online OH Queue\";\n      fetch('/api/v1/theme/', {\n        method: 'GET',\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n      });\n    }\n    \n    handleValidation(data) {\n      var violationExists = false;\n      var violationList = [];\n\n      var email = data.get(\"email\");\n      var first_name = data.get(\"first_name\");\n      var last_name = data.get(\"last_name\");\n      var password = data.get(\"password\");\n      if (email.indexOf(\"upenn.edu\") == -1) {\n        violationList.push(\"Must have a penn email\");\n        violationExists = true;\n      }\n      if (first_name.length == 0) {\n        violationList.push(\"First name cannot be blank\");\n        violationExists = true;\n      }\n      if (last_name.length == 0) {\n        violationList.push(\"Last name cannot be blank\");\n        violationExists = true;\n      }\n      if (password.length < 8) {\n        violationList.push(\"Password must be at least 8 characters\");\n        violationExists = true;\n      }\n\n      if (violationExists) {\n        this.setState({validationErrors: this.state.validationErrors.concat(violationList)});\n      }\n      return !violationExists;\n    }\n  \n    handleSubmit(event) {\n      event.preventDefault();\n      const data = new FormData(event.target);\n\n      if (this.handleValidation(data)) {\n        fetch('/api/v1/users/register/', {\n          method: 'POST',\n          body: data,\n        }).then((response) => {\n          if (response.ok) {\n            swal(\"Email Confirmation Sent!\", \"Please check your email to confirm your account\", \"success\");\n            document.getElementById(\"email\").value = \"\";\n            document.getElementById(\"first_name\").value = \"\";\n            document.getElementById(\"last_name\").value = \"\";\n            document.getElementById(\"password\").value = \"\";\n          } else {\n            var violationList = [\"Email is taken\"];\n            this.setState({validationErrors: this.state.validationErrors.concat(violationList)});\n          }\n        });\n      }\n    }\n  \n    render() {\n      return (\n        <div class=\"formBg\">\n          <div class=\"login-page\">\n            <div class=\"userForm\">\n              <form class=\"login-form\" onSubmit={this.handleSubmit}>\n                <h2 class=\"header-login\"><center>Sign Up</center></h2>\n                <label htmlFor=\"email\">Enter Penn Email</label>\n                <input id=\"email\" name=\"email\" type=\"email\" />\n        \n                <label htmlFor=\"first_name\">First Name</label>\n                <input id=\"first_name\" name=\"first_name\" type=\"text\" />\n        \n                <label htmlFor=\"last_name\">Last Name</label>\n                <input id=\"last_name\" name=\"last_name\" type=\"text\" />\n\n                <label htmlFor=\"password\">Password</label>\n                <input id=\"password\" name=\"password\" type=\"password\" />\n        \n                <button>Sign Up</button>\n              </form>\n              <br />\n              <ul class=\"validationErrorList\">\n                {this.state.validationErrors.map(function(validationError, index){\n                  return <li>{validationError}</li>\n                })}\n              </ul>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  export default SignUpForm;","import React from \"react\";\nimport \"../static/css/style.css\"\n\nclass LoginForm extends React.Component {\n    constructor() {\n      super();\n\n      this.state = {\n        email: '',\n        password: ''\n      }\n\n      this.onChange = this.onChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n      document.title = \"Online OH Queue\";\n      fetch('/api/v1/theme/', {\n        method: 'GET',\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        document.body.style.setProperty('--primary-color', body['primary_theme_color']);\n      });\n    }\n  \n    handleSubmit(event) {\n      event.preventDefault();\n      const data = new FormData(event.target);\n      fetch('/api/v1/users/login/', {\n        method: 'POST',\n        body: data,\n      }).then((response) => {\n        return response.json();\n      }).then((body) => {\n        if (body.error) {\n          alert('Invalid login');\n        } else {\n          localStorage.setItem('credentials', body.token);\n          this.props.history.push('/');\n        }\n      });\n    }\n\n    onChange(event) {\n      this.setState({[event.target.name]: event.target.value});\n    }\n  \n    render() {\n      return (\n        <div class=\"formBg\">\n          <div class=\"login-page\">\n            <div class=\"userForm\">\n              <form class=\"login-form\" onSubmit={this.handleSubmit}>\n                <h2 class=\"header-login\"><center>Log in</center></h2>\n                <label htmlFor=\"email\">Penn Email</label>\n                <input id=\"email\" name=\"email\" type=\"email\" value={this.state.email} onChange={this.onChange} />  \n                <label htmlFor=\"password\">Password</label>\n                <input id=\"password\" name=\"password\" type=\"password\" value={this.state.password} onChange={this.onChange} />\n                <button>login</button>\n                <p class=\"message\">Not registered? <a href=\"/signup\">Create an account</a></p>\n                <p class=\"message\">Forget your password? <a href=\"/password_reset\">Reset your password</a></p>\n              </form>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  export default LoginForm;","import React, { Component } from 'react';\nimport \"../static/css/style.css\"\n\nclass Summary extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      questions: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('/api/v1/summary', {\n      method: 'GET',\n      headers: {\n          \"Authorization\": \"Token \" + localStorage.getItem('credentials')\n        }\n    }).then((response) => {\n      return response.json();\n    }).then((body) => {\n        this.setState({questions: body});\n    });\n  }\n\n  render() {\n      return (\n        <div>\n          <center><h2>Office Hours Questions This Week:</h2></center>\n          <table class=\"summary\">\n            <tr>\n                <th>Question</th><th>Answerer</th>\n            </tr>\n            {this.state.questions.map(function(question, index){\n                return <tr><td class=\"description\">{index+1} - {question.description}</td><td class=\"answerer\">{question.answered_by_email}</td></tr>\n            })}\n          </table>\n        </div>\n      );\n  }\n}\n\nexport default Summary;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport QueueAsk from './queues/QueueAsk';\nimport QueueTaList from './queues/QueueTAList';\nimport SignUpForm from './signup-in/Signup';\nimport LoginForm from './signup-in/Login';\nimport Summary from './stats/Summary'\nimport {BrowserRouter, Switch, Route, Redirect} from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render((\n    <BrowserRouter>\n        <Switch>\n            <Route exact path='/' component={App} />\n            <Route exact path='/signup' component={SignUpForm} />\n            <Route exact path='/login' component={LoginForm} />\n            <Route exact path='/answer' component={QueueTaList} />\n            <Route exact path='/summary' component={Summary} />\n            <Route path=\"/:queue/ask\" component={QueueAsk}/> \n        </Switch>\n    </BrowserRouter>\n    ), document.getElementById('root')\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}